@model AttendanceManagementSystem.Core.ViewModels.AttendanceViewModel
@{
    ViewData["Title"] = "Index";
}
<h1>Check Attendance</h1>
<form name="attendanceForm" method="post" asp-controller="AttendanceHistory" asp-action="Index">
    <select class="form-control" name="subjectId" asp-items="@(new SelectList(Model.Subjects,"SubjectId","Name"))"></select>
    <input type="date" class="form-control" name="date" />
    <input type="submit" value="Check Attendance" class="form-control" />
</form>


<table class="table table-light">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Student.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Student.RollNo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Student.IsAbsent)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Student.Reason)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Student.Stamp)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Student.TotalAbsents)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @for (var item = 0; item < Model.Attendances.Count(); item++)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => modelItem.Attendances[item].Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => modelItem.Attendances[item].RollNo)
                </td>
                <td>
                    @Html.RadioButtonFor(x => x.Attendances[item].IsAbsent, "false") Present
                    @Html.RadioButtonFor(x => x.Attendances[item].IsAbsent, "true") Absent
                </td>
                <td>
                    @Html.DisplayFor(modelItem => modelItem.Attendances[item].Reason)
                </td>
                <td>
                    <span>@Model.Attendances[item].Stamp.ToString("dd/MM/yyyy HH:mm")</span>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => modelItem.Attendances[item].TotalAbsents)
                </td>
            </tr>
        }
    </tbody>
</table>
